<!DOCTYPE html>
<html lang="en">
 <head>
  <title>
   Vim: Get the Text from Visual Selection
  </title>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <meta content="" name="description"/>
  <meta content="https://mr-destructive.github.io/techstructive-blog/" property="og:url"/>
  <meta content="website" property="og:type"/>
  <meta content="Techstructive Blog" property="og:title"/>
  <meta content="" property="og:description"/>
  <meta content="https://res.cloudinary.com/techstructive-blog/image/upload/v1646235547/blog-media/a9aafsuwsg1mbt571mmi.png" property="og:image"/>
  <meta content="mr-destructive.github.io" property="twitter:domain"/>
  <meta content="https://mr-destructive.github.io/techstructive-blog/" property="twitter:url"/>
  <meta content="Techstructive Blog" name="twitter:title"/>
  <meta content="" name="twitter:description"/>
  <meta content="https://res.cloudinary.com/techstructive-blog/image/upload/v1646235547/blog-media/a9aafsuwsg1mbt571mmi.png" name="twitter:image"/>
  <link href="../tbicon.png" rel="icon" type="image/png"/>
  <link href="../main.css" rel="stylesheet"/>
  <meta content="markata 0.2.0" name="generator"/>
 </head>
 <body>
  <nav>
   <a href="/techstructive-blog/">
    <h1 id="blog-title">
     Techstructive Blog
    </h1>
   </a>
   <div id="shift">
    This website is now live at
    <a href="https://meetgor.com">
     meetgor.com
    </a>
   </div>
   <ul class="navbar">
    <li>
     <a class="navlink" href="/techstructive-blog">
      Home
     </a>
    </li>
    <li>
     <a class="navlink" href="/techstructive-blog/archive/">
      Archive
     </a>
    </li>
    <li>
     <a class="navlink" href="/techstructive-blog/series/">
      Series
     </a>
    </li>
    <li>
     <a class="navlink" href="/techstructive-blog/projects/">
      Projects
     </a>
    </li>
    <li>
     <a class="navlink" href="/techstructive-blog/tils/">
      Tils
     </a>
    </li>
   </ul>
  </nav>
  <hr/>
  <article class="blog-post h-entry">
   <div id="title-wrapper">
    <a class="u-url" href="/techstructive-blog/vim-get-visual-text/">
     <h1 class="flair" id="title" style="text-align:right;z-index:2;padding-right:.2rem">
      Vim: Get the Text from Visual Selection
     </h1>
    </a>
    <a href="/techstructive-blog/vim">
     #vim
    </a>
    <p>
     <time class="dt-published post-date" datetime="2022-03-05" style="text-align:right;z-index:2">
      2022-03-05
     </time>
    </p>
    <div class="h-card p-author" rel="author">
     <div class="content">
      <a class="p-name u-url" href="/techstructive-blog/">
       <p>
        <span class="p-given-name">
         Meet
        </span>
        <span class="p-family-name">
         Gor
        </span>
       </p>
      </a>
      <p class="p-note">
       Techstructive Blog
       <a href="https://twitter.com/MeetGor21">
        @MeetGor21
       </a>
      </p>
      <p>
       <a alt="edit post url" href="https://github.com/mr-destructive/techstructive-blog/edit/gh-pages/blog/tils/2022-03-05-vim-get-visual-text.md" title="edit this post">
        edit
        <span aria-label="" role="img">
         ✏️
        </span>
       </a>
      </p>
      <p>
      </p>
     </div>
    </div>
   </div>
   <div id="post-body">
    <h2 id="using-registers">
     Using Registers
    </h2>
    <p>
     We can get the selected text in a variable in Vim Script using registers.
    </p>
    <div class="highlight">
     <pre><span></span><code>normal gv"xy
let context = getreg("x")
</code></pre>
    </div>
    <p>
     Lets break down the command
    </p>
    <div class="highlight">
     <pre><span></span><code>normal mode -&gt; gv -&gt; (y)ank text -&gt; to the "x" register
               |                  |
               |               Copy the contents into x register(or any register you like)    
               |                  
            Select the previously selected text   
</code></pre>
    </div>
    <p>
     Here, we are entering normal mode and selecting text which was previously selected and yank the contents into a register in this case we are using (x) register, it can be any register. 
Now to get the contents of that register we can use the function
     <code>
      getreg("register_name")
     </code>
     or use
     <code>
      "xp"
     </code>
     to paste the contents of the
     <code>
      x
     </code>
     register or more generally for any register(
     <code>
      "&lt;register-name&gt;p
     </code>
     ).
    </p>
    <p>
     Hence we can store the contents of the selected text in a variable for further processing or manipulation.
    </p>
    <p>
     To quickly test this snippet from command mode, you can try the following steps:
    </p>
    <p>
     Select a text and press Escape, we just want the
     <code>
      gv
     </code>
     command to refresh and get it's contents to the latest visual selection.
    </p>
    <div class="highlight">
     <pre><span></span><code>:normal! gv"xy
</code></pre>
    </div>
    <div class="highlight">
     <pre><span></span><code>:let foo = getreg("x")
</code></pre>
    </div>
    <div class="highlight">
     <pre><span></span><code>:echo foo
</code></pre>
    </div>
    <p>
     The echo command will simply print the text which we have selected in the file.
    </p>
    <p>
     <img alt="Visual Select Text" src="https://res.cloudinary.com/techstructive-blog/image/upload/v1646483173/blog-media/wlrxgtmegtycilyhvyiz.gif"/>
    </p>
   </div>
   <hr/>
   <div id="show">
   </div>
  </article>
  <hr/>
  <footer>
   <ul class="social">
    <li>
     <a href="https://twitter.com/MeetGor21">
      Twitter
      <svg class="svg-icon grey">
       <use xlink:href="../social-icons.svg#twitter">
       </use>
      </svg>
     </a>
    </li>
    <li>
     <a href="https://www.linkedin.com/in/meetgor/">
      LinkedIn
      <svg class="svg-icon grey">
       <use xlink:href="../social-icons.svg#linkedin">
       </use>
      </svg>
     </a>
    </li>
    <li>
     <a href="https://github.com/Mr-Destructive">
      GitHub
      <svg class="svg-icon grey">
       <use xlink:href="../social-icons.svg#github">
       </use>
      </svg>
     </a>
    </li>
    <li>
     <a href="https://dev.to/mr-destructive">
      Dev.to
      <svg class="svg-icon grey">
       <use xlink:href="../social-icons.svg#devto">
       </use>
      </svg>
     </a>
    </li>
    <li>
     <a href="/techstructive-blog/rss.xml">
      RSS
      <svg class="svg-icon orange">
       <use xlink:href="../social-icons.svg#rss">
       </use>
      </svg>
     </a>
    </li>
    <li>
     <a class="u-email" href="mailto:gormeet711@gmail.com">
      Email
     </a>
    </li>
   </ul>
   Techstructive Blog © 2022
  </footer>
 </body>
</html>
